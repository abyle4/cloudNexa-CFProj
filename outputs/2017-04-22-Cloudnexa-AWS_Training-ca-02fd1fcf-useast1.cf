{"AWSTemplateFormatVersion":"2010-09-09","Description":"CloudnexavNOCCWEC2CloudwatchAlarms","Parameters":{"SNSTopicARN":{"Description":"WhatistheARNforexistingSNSTopic","Default":"NONE","Type":"String"}},"Resources":{"i036b0787c97a929c7EC2HealthStatusCheckAlarm": {"Type": "AWS::CloudWatch::Alarm","DeletionPolicy":"Retain","Properties": {"AlarmName" : "Cloudnexa - EC2: Status Check Failed - CFmakerWindowsTest","MetricName":"StatusCheckFailed","Namespace": "AWS/EC2","Statistic": "Average","Period": "60","EvaluationPeriods": "5","Threshold": "0","ActionsEnabled": true, "AlarmActions": [{"Ref": "SNSTopicARN"}],"OKActions": [{"Ref": "SNSTopicARN"}],"Dimensions": [{"Name": "InstanceId","Value": "i-036b0787c97a929c7"}],"ComparisonOperator": "GreaterThanThreshold"}},"i036b0787c97a929c7EC2MEMAlarmHigh": {"Type": "AWS::CloudWatch::Alarm","DeletionPolicy":"Retain","Properties": {"AlarmName" : "Cloudnexa - EC2: MemoryUtilization - CFmakerWindowsTest","MetricName":"MemoryUtilization","Namespace": "System/Windows","Statistic": "Average","Period": "300","EvaluationPeriods": "6","Threshold": "90","ActionsEnabled": true, "AlarmActions": [{"Ref": "SNSTopicARN"}],"OKActions": [{"Ref": "SNSTopicARN"}],"Dimensions": [{"Name": "InstanceId","Value": "i-036b0787c97a929c7"}],"ComparisonOperator": "GreaterThanThreshold"}},"i036b0787c97a929c7EC2WinVOLAlarmHigh": {"Type": "AWS::CloudWatch::Alarm","DeletionPolicy":"Retain","Properties": {"AlarmName" : "Cloudnexa - EC2: VolumeUtilization - CFmakerWindowsTest","MetricName":"VolumeUtilization","Namespace": "System/Windows","Statistic": "Average","Period": "300","EvaluationPeriods": "6","Threshold": "90","ActionsEnabled": true, "AlarmActions": [{"Ref": "SNSTopicARN"}],"OKActions": [{"Ref": "SNSTopicARN"}],"Dimensions": [{"Name": "InstanceId","Value": "i-036b0787c97a929c7"},{"Name": "Drive-Letter","Value": "C:"}],"ComparisonOperator": "GreaterThanThreshold"}},"i036b0787c97a929c7EC2PageFileAlarmHigh": {"Type": "AWS::CloudWatch::Alarm","DeletionPolicy":"Retain","Properties": {"AlarmName" : "Cloudnexa - EC2: Paging File Utilization - CFmakerWindowsTest","MetricName":"pagefileUtilization(c:\\pagefile.sys)","Namespace": "System/Windows","Statistic": "Average","Period": "300","EvaluationPeriods": "6","Threshold": "80","ActionsEnabled": true, "AlarmActions": [{"Ref": "SNSTopicARN"}],"OKActions": [{"Ref": "SNSTopicARN"}],"Dimensions": [{"Name": "InstanceId","Value": "i-036b0787c97a929c7"}],"ComparisonOperator": "GreaterThanThreshold"}},"i036b0787c97a929c7EC2CPUAlarmHigh": {"Type": "AWS::CloudWatch::Alarm","DeletionPolicy":"Retain","Properties": {"AlarmName" : "Cloudnexa - EC2: High CPU Utilization - CFmakerWindowsTest","MetricName":"CPUUtilization","Namespace": "AWS/EC2","Statistic": "Average","Period": "300","EvaluationPeriods": "6","Threshold": "90","ActionsEnabled": true, "AlarmActions": [{"Ref": "SNSTopicARN"}],"OKActions": [{"Ref": "SNSTopicARN"}],"Dimensions": [{"Name": "InstanceId","Value": "i-036b0787c97a929c7"}],"ComparisonOperator": "GreaterThanThreshold"}},"i0b057966c0e27be34EC2HealthStatusCheckAlarm": {"Type": "AWS::CloudWatch::Alarm","DeletionPolicy":"Retain","Properties": {"AlarmName" : "Cloudnexa - EC2: Status Check Failed - AndrewLambdaTester","MetricName":"StatusCheckFailed","Namespace": "AWS/EC2","Statistic": "Average","Period": "60","EvaluationPeriods": "5","Threshold": "0","ActionsEnabled": true, "AlarmActions": [{"Ref": "SNSTopicARN"}],"OKActions": [{"Ref": "SNSTopicARN"}],"Dimensions": [{"Name": "InstanceId","Value": "i-0b057966c0e27be34"}],"ComparisonOperator": "GreaterThanThreshold"}},"i0b057966c0e27be34EC2MEMAlarmHigh": {"Type": "AWS::CloudWatch::Alarm","DeletionPolicy":"Retain","Properties": {"AlarmName" : "Cloudnexa - EC2: MemoryUtilization - AndrewLambdaTester","MetricName":"MemoryUtilization","Namespace": "System/Linux","Statistic": "Average","Period": "300","EvaluationPeriods": "6","Threshold": "90","ActionsEnabled": true, "AlarmActions": [{"Ref": "SNSTopicARN"}],"OKActions": [{"Ref": "SNSTopicARN"}],"Dimensions": [{"Name": "InstanceId","Value": "i-0b057966c0e27be34"}],"ComparisonOperator": "GreaterThanThreshold"}},"i0b057966c0e27be34EC2LinuxVOLAlarmHigh": {"Type": "AWS::CloudWatch::Alarm","DeletionPolicy":"Retain","Properties": {"AlarmName" : "Cloudnexa - EC2: VolumeUtilization - AndrewLambdaTester","MetricName":"DiskSpaceUtilization","Namespace": "System/Linux","Statistic": "Average","Period": "300","EvaluationPeriods": "6","Threshold": "90","ActionsEnabled": true, "AlarmActions": [{"Ref": "SNSTopicARN"}],"OKActions": [{"Ref": "SNSTopicARN"}],"Dimensions": [{"Name": "InstanceId","Value": "i-0b057966c0e27be34"},{"Name": "MountPath","Value": "/"},{"Name": "Filesystem","Value": "/dev/xvda1"}],"ComparisonOperator": "GreaterThanThreshold"}},"i0b057966c0e27be34EC2SwapAlarmHigh": {"Type": "AWS::CloudWatch::Alarm","DeletionPolicy":"Retain","Properties": {"AlarmName" : "Cloudnexa - EC2: Swap Utilization - AndrewLambdaTester","MetricName":"SwapUtilization","Namespace": "System/Linux","Statistic": "Average","Period": "300","EvaluationPeriods": "6","Threshold": "80","ActionsEnabled": true, "AlarmActions": [{"Ref": "SNSTopicARN"}],"OKActions": [{"Ref": "SNSTopicARN"}],"Dimensions": [{"Name": "InstanceId","Value": "i-0b057966c0e27be34"}],"ComparisonOperator": "GreaterThanThreshold"}},"i0b057966c0e27be34EC2CPUAlarmHigh": {"Type": "AWS::CloudWatch::Alarm","DeletionPolicy":"Retain","Properties": {"AlarmName" : "Cloudnexa - EC2: High CPU Utilization - AndrewLambdaTester","MetricName":"CPUUtilization","Namespace": "AWS/EC2","Statistic": "Average","Period": "300","EvaluationPeriods": "6","Threshold": "90","ActionsEnabled": true, "AlarmActions": [{"Ref": "SNSTopicARN"}],"OKActions": [{"Ref": "SNSTopicARN"}],"Dimensions": [{"Name": "InstanceId","Value": "i-0b057966c0e27be34"}],"ComparisonOperator": "GreaterThanThreshold"}},"i0eb3ce07a3f8c196dEC2HealthStatusCheckAlarm": {"Type": "AWS::CloudWatch::Alarm","DeletionPolicy":"Retain","Properties": {"AlarmName" : "Cloudnexa - EC2: Status Check Failed - lvitalos-nginx-test","MetricName":"StatusCheckFailed","Namespace": "AWS/EC2","Statistic": "Average","Period": "60","EvaluationPeriods": "5","Threshold": "0","ActionsEnabled": true, "AlarmActions": [{"Ref": "SNSTopicARN"}],"OKActions": [{"Ref": "SNSTopicARN"}],"Dimensions": [{"Name": "InstanceId","Value": "i-0eb3ce07a3f8c196d"}],"ComparisonOperator": "GreaterThanThreshold"}},"i0eb3ce07a3f8c196dEC2MEMAlarmHigh": {"Type": "AWS::CloudWatch::Alarm","DeletionPolicy":"Retain","Properties": {"AlarmName" : "Cloudnexa - EC2: MemoryUtilization - lvitalos-nginx-test","MetricName":"MemoryUtilization","Namespace": "System/Linux","Statistic": "Average","Period": "300","EvaluationPeriods": "6","Threshold": "90","ActionsEnabled": true, "AlarmActions": [{"Ref": "SNSTopicARN"}],"OKActions": [{"Ref": "SNSTopicARN"}],"Dimensions": [{"Name": "InstanceId","Value": "i-0eb3ce07a3f8c196d"}],"ComparisonOperator": "GreaterThanThreshold"}},"i0eb3ce07a3f8c196dEC2LinuxVOLAlarmHigh": {"Type": "AWS::CloudWatch::Alarm","DeletionPolicy":"Retain","Properties": {"AlarmName" : "Cloudnexa - EC2: VolumeUtilization - lvitalos-nginx-test","MetricName":"DiskSpaceUtilization","Namespace": "System/Linux","Statistic": "Average","Period": "300","EvaluationPeriods": "6","Threshold": "90","ActionsEnabled": true, "AlarmActions": [{"Ref": "SNSTopicARN"}],"OKActions": [{"Ref": "SNSTopicARN"}],"Dimensions": [{"Name": "InstanceId","Value": "i-0eb3ce07a3f8c196d"},{"Name": "MountPath","Value": "/"},{"Name": "Filesystem","Value": "/dev/xvda1"}],"ComparisonOperator": "GreaterThanThreshold"}},"i0eb3ce07a3f8c196dEC2SwapAlarmHigh": {"Type": "AWS::CloudWatch::Alarm","DeletionPolicy":"Retain","Properties": {"AlarmName" : "Cloudnexa - EC2: Swap Utilization - lvitalos-nginx-test","MetricName":"SwapUtilization","Namespace": "System/Linux","Statistic": "Average","Period": "300","EvaluationPeriods": "6","Threshold": "80","ActionsEnabled": true, "AlarmActions": [{"Ref": "SNSTopicARN"}],"OKActions": [{"Ref": "SNSTopicARN"}],"Dimensions": [{"Name": "InstanceId","Value": "i-0eb3ce07a3f8c196d"}],"ComparisonOperator": "GreaterThanThreshold"}},"i0eb3ce07a3f8c196dEC2CPUAlarmHigh": {"Type": "AWS::CloudWatch::Alarm","DeletionPolicy":"Retain","Properties": {"AlarmName" : "Cloudnexa - EC2: High CPU Utilization - lvitalos-nginx-test","MetricName":"CPUUtilization","Namespace": "AWS/EC2","Statistic": "Average","Period": "300","EvaluationPeriods": "6","Threshold": "90","ActionsEnabled": true, "AlarmActions": [{"Ref": "SNSTopicARN"}],"OKActions": [{"Ref": "SNSTopicARN"}],"Dimensions": [{"Name": "InstanceId","Value": "i-0eb3ce07a3f8c196d"}],"ComparisonOperator": "GreaterThanThreshold"}},"cndev69checklistalarmtestmysqlRDSHighCPUAlarm": {"Type" : "AWS::CloudWatch::Alarm","DeletionPolicy" : "Retain","Properties" : {"ActionsEnabled" : true, "AlarmActions" : [{"Ref": "SNSTopicARN"}],"AlarmName": "Cloudnexa - RDS: High CPU - cndev-69checklist-alarmtest-mysql","ComparisonOperator" : "GreaterThanThreshold", "Dimensions" : [{"Name" : "DBInstanceIdentifier", "Value" : "cndev-69checklist-alarmtest-mysql"}],"EvaluationPeriods" : 5, "MetricName" : "CPUUtilization", "Namespace" : "AWS/RDS", "OKActions" : [{"Ref": "SNSTopicARN"}],"Period" : 300, "Statistic" : "Average","Threshold" : 90.0}},"cndev69checklistalarmtestmysqlRDSHighDBConnectionsAlarm": {"Type" : "AWS::CloudWatch::Alarm","DeletionPolicy" : "Retain","Properties" : {"ActionsEnabled" : true, "AlarmActions" : [{"Ref": "SNSTopicARN"}],"AlarmName": "Cloudnexa - RDS: High Amount of DB Connections - cndev-69checklist-alarmtest-mysql","ComparisonOperator" : "GreaterThanThreshold", "Dimensions" : [{"Name" : "DBInstanceIdentifier", "Value" : "cndev-69checklist-alarmtest-mysql"}],"EvaluationPeriods" : 2, "MetricName" : "DatabaseConnections", "Namespace" : "AWS/RDS", "OKActions" : [{"Ref": "SNSTopicARN"}],"Period" : 60, "Statistic" : "Average","Threshold" : 59.605}},"cndev69checklistalarmtestmysqlRDSLowMemoryAlarm": {"Type" : "AWS::CloudWatch::Alarm","DeletionPolicy" : "Retain","Properties" : {"ActionsEnabled" : true, "AlarmActions" : [{"Ref": "SNSTopicARN"}],"AlarmName": "Cloudnexa - RDS: Low Memory - cndev-69checklist-alarmtest-mysql","ComparisonOperator" : "LessThanThreshold", "Dimensions" : [{"Name" : "DBInstanceIdentifier", "Value" : "cndev-69checklist-alarmtest-mysql"}],"EvaluationPeriods" : 5, "MetricName" : "FreeableMemory", "Namespace" : "AWS/RDS", "OKActions" : [{"Ref": "SNSTopicARN"}],"Period" : 300, "Statistic" : "Average","Threshold" : 250000000}},"cndev69checklistalarmtestmysqlRDSLowStorageAlarm": {"Type" : "AWS::CloudWatch::Alarm","DeletionPolicy" : "Retain","Properties" : {"ActionsEnabled" : true, "AlarmActions" : [{"Ref": "SNSTopicARN"}],"AlarmName": "Cloudnexa - RDS: Low Disk Space - cndev-69checklist-alarmtest-mysql","ComparisonOperator" : "LessThanThreshold", "Dimensions" : [{"Name" : "DBInstanceIdentifier", "Value" : "cndev-69checklist-alarmtest-mysql"}],"EvaluationPeriods" : 5, "MetricName" : "FreeStorageSpace", "Namespace" : "AWS/RDS", "OKActions" : [{"Ref": "SNSTopicARN"}],"Period" : 300, "Statistic" : "Average","Threshold" : 1000000000.0}},"cndevelb69checklistalarmtestELBHighUnhealthyHostsAlarm" : { "Type" : "AWS::CloudWatch::Alarm", "DeletionPolicy" : "Retain", "Properties" : {"ActionsEnabled" : true, "AlarmActions" : [{"Ref" : "SNSTopicARN"}],"AlarmName" : "Cloudnexa - ELB: High Unhealthy Hosts - cndev-elb-69checklist-alarmtest","ComparisonOperator" : "GreaterThanOrEqualToThreshold", "Dimensions" : [{"Name" : "LoadBalancerName", "Value" : "cndev-elb-69checklist-alarmtest"}],"EvaluationPeriods" : 5,"MetricName" : "UnHealthyHostCount", "Namespace" : "AWS/ELB", "OKActions" : [{"Ref" : "SNSTopicARN"}], "Period" : 60, "Statistic" : "Average","Threshold" : 1.0}},"cndevelb69checklistalarmtestELBNoHealthyHostsAlarm" : { "Type" : "AWS::CloudWatch::Alarm", "DeletionPolicy" : "Retain", "Properties" : {"ActionsEnabled" : true, "AlarmActions" : [{"Ref" : "SNSTopicARN"}],"AlarmName" : "Cloudnexa - ELB: No Healthy Hosts - cndev-elb-69checklist-alarmtest","ComparisonOperator" : "LessThanThreshold", "Dimensions" : [{"Name" : "LoadBalancerName", "Value" : "cndev-elb-69checklist-alarmtest"}],"EvaluationPeriods" : 5,"MetricName" : "HealthyHostCount", "Namespace" : "AWS/ELB", "OKActions" : [{"Ref" : "SNSTopicARN"}], "Period" : 60, "Statistic" : "Average","Threshold" : 1.0}}}}